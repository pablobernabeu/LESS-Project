subset_data_large <- subset_data_large %>%
filter(!is.na(Activation) & !is.nan(Activation) & is.finite(Activation))
# Check the subset data after removing problematic values
print(head(subset_data_large, 10))
# Running ANOVA on the cleaned subset
anova_result_large <- aov(Activation ~ Condition + Time + Error(Participant/Condition), data = subset_data_large)
summary(anova_result_large)
# Check levels of the factors
levels(subset_data_large$Condition)
levels(subset_data_large$Time)
levels(subset_data_large$Participant)
# Ensuring that the factors have at least two levels
subset_data_large <- subset_data_large %>%
filter(Condition %in% c("Grammatical", "Violation of Interest", "Ancillary Violation")) %>%
filter(Time >= 0 & Time <= 500)
# Check the number of levels for each factor again
print(unique(subset_data_large$Condition))
# Check levels of the factors
levels(Session2_melted_dat$Condition)
# Check levels of the factors
levels(Session2_melted_data$Condition)
levels(Session2_melted_data$Time)
# Ensure 'Condition' and 'Participant' are factors
subset_data_large$Condition <- as.factor(Session2_melted_data$Condition)
# Check levels of the factors
levels(Session2_melted_data$Condition)
library(plyr)
library(reshape2)
library(magrittr)
library(dplyr)
library(ggplot2)
path <- "EEG/data/Session 2/Export/"
#getting the list of files
Session2_gram_files <- list.files(pattern = "*S1.S101.txt",
path = path, full.names = TRUE)
Session2_violation_interest <- list.files(pattern = "*S1_S102.txt",
path = path, full.names = TRUE)
Session2_ancillary_violation <- list.files(pattern = "*S1_S103.txt",
path = path, full.names = TRUE)
#Checking the file paths
print(Session2_gram_files)
print(Session2_violation_interest)
print(Session2_ancillary_violation)
# Constructing lists of data
Session2_gram_list = lapply(1:length(Session2_gram_files),function(x) {
read.table(Session2_gram_files[x], header=FALSE) } )
Session2_violation_interest_list = lapply(1:length(Session2_violation_interest),function(x) {
read.table(Session2_violation_interest[x], header=FALSE) } )
Session2_ancillary_violation_list = lapply(1:length(Session2_ancillary_violation),function(x) {
read.table(Session2_ancillary_violation [x], header=FALSE) } )
View(Session2_ancillary_violation_list)
# converting the lists into data frames
Session2_gram_data = ldply(Session2_gram_list, data.frame)
Session2_violation_interest_data = ldply(Session2_violation_interest_list, data.frame)
Session2_ancillary_violation_data = ldply (Session2_ancillary_violation_list, data.frame)
# the time column is organised in miliseconds, from -100 to 1098, and counted every 2 ms
seq = seq(-100, 1098, 2)
# the electrode column is formulated as a vector of electrode names that correspond to the time interval sequence
names(Session2_gram_data) = c('Electrode', seq)
names(Session2_violation_interest_data) = c('Electrode', seq)
names(Session2_ancillary_violation_data) = c ('Electrode', seq)
# working on the participants' name column
#removing the path from the participants' names so their column can be named succintly
file_names_gram <- basename(Session2_gram_files)
files_names_violation_interest <- basename(Session2_violation_interest)
files_names_ancillary_violation <- basename(Session2_ancillary_violation)
#Extract participant numbers
participants_gr <- sub("_.*", "", file_names_gram)
participants_violint = sub("_.*", "", files_names_violation_interest)
participants_ancvil = sub("_.*", "", files_names_ancillary_violation)
# adding participant columns to the data frames
Session2_gram_data$Participant <- rep(participants_gr, each = nrow(Session2_gram_data) / length(participants_gr))
Session2_violation_interest_data$Participant <- rep(participants_violint, each = nrow(Session2_violation_interest_data) / length(participants_violint))
Session2_ancillary_violation_data$Participant <- rep(participants_ancvil, each = nrow(Session2_ancillary_violation_data) / length(participants_ancvil))
# adding condition column to the dataframes
Session2_gram_data$Condition <- 'Grammatical'
Session2_violation_interest_data$Condition <- 'Violation of Interest'
Session2_ancillary_violation_data$Condition <- 'Ancillary Violation'
# Combine all data frames into one
Session2_combined_data <- rbind(Session2_gram_data, Session2_violation_interest_data, Session2_ancillary_violation_data)
#dividing the electrodes into brain regions
# Define the mapping of electrodes to regions
electrode_to_region <- c(
"T7" = "left medial",
"C3" = "left medial",
"CP5" = "left medial",
"T8" = "right medial",
"C4" = "right medial",
"CP6" = "right medial",
"Fp1" = "left anterior",
"F3" = "left anterior",
"F7" = "left anterior",
"FT9" = "left anterior",
"FC5" = "left anterior",
"Fp2" = "right anterior",
"F4" = "right anterior",
"F8" = "right anterior",
"FT10" = "right anterior",
"FC6" = "right anterior",
"P7" = "left posterior",
"P3" = "left posterior",
"O1" = "left posterior",
"P8" = "right posterior",
"P4" = "right posterior",
"O2" = "right posterior",
"Fz" = "midline anterior",
"FC1" = "midline anterior",
"FC2" = "midline anterior",
"Cz" = "midline medial",
"CP1" = "midline medial",
"CP2" = "midline medial",
"Pz" = "midline posterior",
"Oz" = "midline posterior"
)
# Add Region column based on electrode_to_region mapping
Session2_combined_data <- Session2_combined_data %>%
mutate(Region = electrode_to_region[Electrode])
# Melt the combined data frame to convert it from wide to long format
Session2_melted_data_dirty <- melt(Session2_combined_data, id.vars = c('Participant', 'Electrode', 'Condition', 'Region'), variable.name = 'Time', value.name = 'Activation')
# Convert the 'Time' column to numeric
Session2_melted_data_dirty$Time <- as.numeric(as.character(Session2_melted_data_dirty$Time))
# Add the Session column
Session2_melted_data_dirty$Session <- 'Session 2'
# View the resulting melted data
View(Session2_melted_data_dirty)
# Removing rows where any column has NA or NaN values
Session2_melted_data <- Session2_melted_data_dirty %>%
filter(complete.cases(.))  # Removes rows with NA values in any column
# Alternatively, if you want to remove rows with NaN values specifically
Session2_melted_data <- Session2_melted_data_dirty %>%
filter(!is.nan(Activation)) %>%
filter(complete.cases(.))  # Ensure no NA values are left
# View the cleaned data
View(Session2_melted_data)
# making sure that no Nas or NaNs have been introduced by coercion
rows_with_any_na_nan <- Session2_melted_data %>%
filter(if_any(everything(), ~ is.na(.) | is.nan(.)))
print(rows_with_any_na_nan)
# Convert 'Time' and 'Region' columns to factors
Session2_melted_data$Time <- as.factor(Session2_melted_data$Time)
Session2_melted_data$Region <- as.factor(Session2_melted_data$Region)
# Verify the changes
str(Session2_melted_data)
# View the cleaned data
View(Session2_melted_data)
Session2_melted_data$Time <- as.factor(Session2_melted_data$Time)
Session2_melted_data$Region <- as.factor(Session2_melted_data$Region)
Session2_melted_data$Condition <- as.factor(Session2_melted_data$Condition)
Session2_melted_data$Participant <- as.factor(Session2_melted_data$Participant)
# Verify the changes
str(Session2_melted_data)
anova_model <- aov(Activation ~ Condition * Time * Region + Error(Participant/(Condition * Time * Region)), data = Session2_melted_data)
anova_model_simple <- aov(Activation ~ Condition + Time + Region + Error(Participant/(Condition + Time + Region)), data = Session2_melted_data)
library(lme4)
# Fit a mixed-effects model
mixed_model <- lmer(Activation ~ Condition * Time * Region + (1|Participant), data = Session2_melted_data)
# Subset the data (e.g., use only a subset of Time points or Participants)
subset_data <- Session2_melted_data %>% filter(Time %in% c(-100, 0, 100, 200, 300))
# Run the ANOVA on the subset
anova_model_subset <- aov(Activation ~ Condition * Time * Region + Error(Participant/(Condition * Time * Region)), data = subset_data)
# Filter data for Participant 1
participant1_data <- Session2_melted_data %>% filter(Participant == "1")
# Check for NA, NaN, or Inf values in the Activation column and remove those rows
participant1_data <- participant1_data %>%
filter(!is.na(Activation) & !is.nan(Activation) & is.finite(Activation))
# Convert columns to factors if they are not already
participant1_data$Time <- as.factor(participant1_data$Time)
participant1_data$Region <- as.factor(participant1_data$Region)
participant1_data$Condition <- as.factor(participant1_data$Condition)
# Run the ANOVA for participant 1
anova_model_participant1 <- aov(Activation ~ Condition * Time * Region, data = participant1_data)
summary(anova_model_participant1)
library(plyr)
library(reshape2)
library(magrittr)
library(dplyr)
library(ggplot2)
path <- "EEG/data/Session 2/Export/"
#getting the list of files
Session2_gram_files <- list.files(pattern = "*S1.S101.txt",
path = path, full.names = TRUE)
Session2_violation_interest <- list.files(pattern = "*S1_S102.txt",
path = path, full.names = TRUE)
Session2_ancillary_violation <- list.files(pattern = "*S1_S103.txt",
path = path, full.names = TRUE)
#Checking the file paths
print(Session2_gram_files)
print(Session2_violation_interest)
print(Session2_ancillary_violation)
# Constructing lists of data
Session2_gram_list = lapply(1:length(Session2_gram_files),function(x) {
read.table(Session2_gram_files[x], header=FALSE) } )
Session2_violation_interest_list = lapply(1:length(Session2_violation_interest),function(x) {
read.table(Session2_violation_interest[x], header=FALSE) } )
Session2_ancillary_violation_list = lapply(1:length(Session2_ancillary_violation),function(x) {
read.table(Session2_ancillary_violation [x], header=FALSE) } )
View(Session2_ancillary_violation_list)
# converting the lists into data frames
Session2_gram_data = ldply(Session2_gram_list, data.frame)
Session2_violation_interest_data = ldply(Session2_violation_interest_list, data.frame)
Session2_ancillary_violation_data = ldply (Session2_ancillary_violation_list, data.frame)
# the time column is organised in miliseconds, from -100 to 1098, and counted every 2 ms
seq = seq(-100, 1098, 2)
# the electrode column is formulated as a vector of electrode names that correspond to the time interval sequence
names(Session2_gram_data) = c('Electrode', seq)
names(Session2_violation_interest_data) = c('Electrode', seq)
names(Session2_ancillary_violation_data) = c ('Electrode', seq)
# working on the participants' name column
#removing the path from the participants' names so their column can be named succintly
file_names_gram <- basename(Session2_gram_files)
files_names_violation_interest <- basename(Session2_violation_interest)
files_names_ancillary_violation <- basename(Session2_ancillary_violation)
#Extract participant numbers
participants_gr <- sub("_.*", "", file_names_gram)
participants_violint = sub("_.*", "", files_names_violation_interest)
participants_ancvil = sub("_.*", "", files_names_ancillary_violation)
# adding participant columns to the data frames
Session2_gram_data$Participant <- rep(participants_gr, each = nrow(Session2_gram_data) / length(participants_gr))
Session2_violation_interest_data$Participant <- rep(participants_violint, each = nrow(Session2_violation_interest_data) / length(participants_violint))
Session2_ancillary_violation_data$Participant <- rep(participants_ancvil, each = nrow(Session2_ancillary_violation_data) / length(participants_ancvil))
# adding condition column to the dataframes
Session2_gram_data$Condition <- 'Grammatical'
Session2_violation_interest_data$Condition <- 'Violation of Interest'
Session2_ancillary_violation_data$Condition <- 'Ancillary Violation'
# Combine all data frames into one
Session2_combined_data <- rbind(Session2_gram_data, Session2_violation_interest_data, Session2_ancillary_violation_data)
#dividing the electrodes into brain regions
# Define the mapping of electrodes to regions
electrode_to_region <- c(
"T7" = "left medial",
"C3" = "left medial",
"CP5" = "left medial",
"T8" = "right medial",
"C4" = "right medial",
"CP6" = "right medial",
"Fp1" = "left anterior",
"F3" = "left anterior",
"F7" = "left anterior",
"FT9" = "left anterior",
"FC5" = "left anterior",
"Fp2" = "right anterior",
"F4" = "right anterior",
"F8" = "right anterior",
"FT10" = "right anterior",
"FC6" = "right anterior",
"P7" = "left posterior",
"P3" = "left posterior",
"O1" = "left posterior",
"P8" = "right posterior",
"P4" = "right posterior",
"O2" = "right posterior",
"Fz" = "midline anterior",
"FC1" = "midline anterior",
"FC2" = "midline anterior",
"Cz" = "midline medial",
"CP1" = "midline medial",
"CP2" = "midline medial",
"Pz" = "midline posterior",
"Oz" = "midline posterior"
)
# Add Region column based on electrode_to_region mapping
Session2_combined_data <- Session2_combined_data %>%
mutate(Region = electrode_to_region[Electrode])
# Melt the combined data frame to convert it from wide to long format
Session2_melted_data_dirty <- melt(Session2_combined_data, id.vars = c('Participant', 'Electrode', 'Condition', 'Region'), variable.name = 'Time', value.name = 'Activation')
# Convert the 'Time' column to numeric
Session2_melted_data_dirty$Time <- as.numeric(as.character(Session2_melted_data_dirty$Time))
# Add the Session column
Session2_melted_data_dirty$Session <- 'Session 2'
# View the resulting melted data
View(Session2_melted_data_dirty)
# Removing rows where any column has NA or NaN values
Session2_melted_data <- Session2_melted_data_dirty %>%
filter(complete.cases(.))  # Removes rows with NA values in any column
# Alternatively, if you want to remove rows with NaN values specifically
Session2_melted_data <- Session2_melted_data_dirty %>%
filter(!is.nan(Activation)) %>%
filter(complete.cases(.))  # Ensure no NA values are left
# View the cleaned data
View(Session2_melted_data)
# making sure that no Nas or NaNs have been introduced by coercion
rows_with_any_na_nan <- Session2_melted_data %>%
filter(if_any(everything(), ~ is.na(.) | is.nan(.)))
print(rows_with_any_na_nan)
Session2_melted_data$Time <- as.factor(Session2_melted_data$Time)
Session2_melted_data$Region <- as.factor(Session2_melted_data$Region)
Session2_melted_data$Condition <- as.factor(Session2_melted_data$Condition)
Session2_melted_data$Participant <- as.factor(Session2_melted_data$Participant)
# Verify the changes
str(Session2_melted_data)
anova_model_simple <- aov(Activation ~ Condition + Time + Region + Error(Participant/(Condition + Time + Region)), data = Session2_melted_data)
library(lme4)
# Fit a mixed-effects model
mixed_model <- lmer(Activation ~ Condition * Time * Region + (1|Participant), data = Session2_melted_data)
# Run the ANOVA on the subset
anova_model_subset <- aov(Activation ~ Condition * Time * Region + Error(Participant/(Condition * Time * Region)), data = subset_data)
summary(anova_model_subset)
# Filter data for Participant 1
participant1_data <- Session2_melted_data %>% filter(Participant == "1")
# Check for NA, NaN, or Inf values in the Activation column and remove those rows
participant1_data <- participant1_data %>%
filter(!is.na(Activation) & !is.nan(Activation) & is.finite(Activation))
# Convert columns to factors if they are not already
participant1_data$Time <- as.factor(participant1_data$Time)
participant1_data$Region <- as.factor(participant1_data$Region)
participant1_data$Condition <- as.factor(participant1_data$Condition)
#Error in h(simpleError(msg, call)) :
# error in evaluating the argument 'object' in selecting a method for function 'summary': object 'anova_model_participant1' not found
# Run the ANOVA for participant 1
anova_model_participant1 <- aov(Activation ~ Condition * Time * Region, data = participant1_data)
summary(anova_model_participant1)
# Optional: Post hoc tests if needed
tukey_result <- TukeyHSD(anova_model_participant1, "Condition")
print(tukey_result)
#ANOVA 1
anova_model <- aov(Activation ~ Condition * Time * Region + Error(Participant/(Condition * Time * Region)), data = Session2_melted_data)
anova_model_simple <- aov(Activation ~ Condition + Time + Region + Error(Participant/(Condition + Time + Region)), data = Session2_melted_data)
# Subset the data (e.g., use only a subset of Time points or Participants)
subset_data <- Session2_melted_data %>% filter(Time %in% c(-100, 0, 100, 200, 300))
# Run the ANOVA on the subset
anova_model_subset <- aov(Activation ~ Condition * Time * Region + Error(Participant/(Condition * Time * Region)), data = subset_data)
summary(anova_model_subset)
# Filter data for Participant 1
participant1_data <- Session2_melted_data %>% filter(Participant == "1")
# Check for NA, NaN, or Inf values in the Activation column and remove those rows
participant1_data <- participant1_data %>%
filter(!is.na(Activation) & !is.nan(Activation) & is.finite(Activation))
# Convert columns to factors if they are not already
participant1_data$Time <- as.factor(participant1_data$Time)
participant1_data$Region <- as.factor(participant1_data$Region)
participant1_data$Condition <- as.factor(participant1_data$Condition)
#Error in h(simpleError(msg, call)) :
# error in evaluating the argument 'object' in selecting a method for function 'summary': object 'anova_model_participant1' not found
# Run the ANOVA for participant 1
anova_model_participant1 <- aov(Activation ~ Condition * Time * Region, data = participant1_data)
summary(anova_model_participant1)
# Optional: Post hoc tests if needed
tukey_result <- TukeyHSD(anova_model_participant1, "Condition")
# Filter data for Participant 1
participant1_data <- Session2_melted_data %>% filter(Participant == "1")
# Check for NA, NaN, or Inf values in the Activation column and remove those rows
participant1_data <- participant1_data %>%
filter(!is.na(Activation) & !is.nan(Activation) & is.finite(Activation))
# Convert columns to factors if they are not already
participant1_data$Time <- as.factor(participant1_data$Time)
participant1_data$Region <- as.factor(participant1_data$Region)
participant1_data$Condition <- as.factor(participant1_data$Condition)
#Error in h(simpleError(msg, call)) :
# error in evaluating the argument 'object' in selecting a method for function 'summary': object 'anova_model_participant1' not found
# Run the ANOVA for participant 1
anova_model_participant1 <- aov(Activation ~ Condition * Time * Region, data = participant1_data)
summary(anova_model_participant1)
# Optional: Post hoc tests if needed
tukey_result <- TukeyHSD(anova_model_participant1, "Condition")
print(tukey_result)
library(dplyr)
library(ggplot2)
library(car)
library(reshape2)
library(lme4)
# Filter data for Participant 1
participant1_data <- Session2_melted_data %>% filter(Participant == "1")
# Check for NA, NaN, or Inf values in the Activation column and remove those rows
participant1_data <- participant1_data %>%
filter(!is.na(Activation) & !is.nan(Activation) & is.finite(Activation))
# Check the unique values for each factor
print(unique(participant1_data$Condition))
print(unique(participant1_data$Time))
print(unique(participant1_data$Region))
# Convert columns to factors if they are not already
participant1_data$Time <- as.factor(participant1_data$Time)
participant1_data$Region <- as.factor(participant1_data$Region)
participant1_data$Condition <- as.factor(participant1_data$Condition)
# Ensure each factor has at least two levels
if(length(unique(participant1_data$Condition)) > 1 &
length(unique(participant1_data$Time)) > 1 &
length(unique(participant1_data$Region)) > 1) {
# Run the ANOVA for participant 1
anova_model_participant1 <- aov(Activation ~ Condition * Time * Region, data = participant1_data)
summary(anova_model_participant1)
# Optional: Post hoc tests if needed
tukey_result <- TukeyHSD(anova_model_participant1, "Condition")
print(tukey_result)
} else {
print("Not enough levels in one or more factors to run ANOVA.")
}
############################
# Increase memory limit to 16GB (adjust as needed)
memory.limit(size = 16000)
# Subset the data frame for the N200 time window (200-500 ms)
S2_N200 <- Session2_melted_data [Session2_melted_data$Time %in% seq(200, 500, 2),]
View(S2_N200)
View(S2_N200)
library(plyr)
library(reshape2)
library(magrittr)
library(dplyr)
library(ggplot2)
path <- "EEG/data/Session 2/Export/"
#getting the list of files
Session2_gram_files <- list.files(pattern = "*S1.S101.txt",
path = path, full.names = TRUE)
Session2_violation_interest <- list.files(pattern = "*S1_S102.txt",
path = path, full.names = TRUE)
Session2_ancillary_violation <- list.files(pattern = "*S1_S103.txt",
path = path, full.names = TRUE)
#Checking the file paths
print(Session2_gram_files)
print(Session2_violation_interest)
print(Session2_ancillary_violation)
# Constructing lists of data
Session2_gram_list = lapply(1:length(Session2_gram_files),function(x) {
read.table(Session2_gram_files[x], header=FALSE) } )
Session2_violation_interest_list = lapply(1:length(Session2_violation_interest),function(x) {
read.table(Session2_violation_interest[x], header=FALSE) } )
Session2_ancillary_violation_list = lapply(1:length(Session2_ancillary_violation),function(x) {
read.table(Session2_ancillary_violation [x], header=FALSE) } )
View(Session2_ancillary_violation_list)
# converting the lists into data frames
Session2_gram_data = ldply(Session2_gram_list, data.frame)
Session2_violation_interest_data = ldply(Session2_violation_interest_list, data.frame)
Session2_ancillary_violation_data = ldply (Session2_ancillary_violation_list, data.frame)
# the time column is organised in miliseconds, from -100 to 1098, and counted every 2 ms
seq = seq(-100, 1098, 2)
# the electrode column is formulated as a vector of electrode names that correspond to the time interval sequence
names(Session2_gram_data) = c('Electrode', seq)
names(Session2_violation_interest_data) = c('Electrode', seq)
names(Session2_ancillary_violation_data) = c ('Electrode', seq)
# working on the participants' name column
#removing the path from the participants' names so their column can be named succintly
file_names_gram <- basename(Session2_gram_files)
files_names_violation_interest <- basename(Session2_violation_interest)
files_names_ancillary_violation <- basename(Session2_ancillary_violation)
#Extract participant numbers
participants_gr <- sub("_.*", "", file_names_gram)
participants_violint = sub("_.*", "", files_names_violation_interest)
participants_ancvil = sub("_.*", "", files_names_ancillary_violation)
# adding participant columns to the data frames
Session2_gram_data$Participant <- rep(participants_gr, each = nrow(Session2_gram_data) / length(participants_gr))
Session2_violation_interest_data$Participant <- rep(participants_violint, each = nrow(Session2_violation_interest_data) / length(participants_violint))
Session2_ancillary_violation_data$Participant <- rep(participants_ancvil, each = nrow(Session2_ancillary_violation_data) / length(participants_ancvil))
# adding Grammaticality column to the dataframes
Session2_gram_data$Grammaticality <- 'Grammatical'
Session2_violation_interest_data$Grammaticality <- 'Violation of Interest'
Session2_ancillary_violation_data$Grammaticality <- 'Ancillary Violation'
# Combine all data frames into one
Session2_combined_data <- rbind(Session2_gram_data, Session2_violation_interest_data, Session2_ancillary_violation_data)
#dividing the electrodes into brain regions
# Define the mapping of electrodes to regions
electrode_to_region <- c(
"T7" = "left medial",
"C3" = "left medial",
"CP5" = "left medial",
"T8" = "right medial",
"C4" = "right medial",
"CP6" = "right medial",
"Fp1" = "left anterior",
"F3" = "left anterior",
"F7" = "left anterior",
"FT9" = "left anterior",
"FC5" = "left anterior",
"Fp2" = "right anterior",
"F4" = "right anterior",
"F8" = "right anterior",
"FT10" = "right anterior",
"FC6" = "right anterior",
"P7" = "left posterior",
"P3" = "left posterior",
"O1" = "left posterior",
"P8" = "right posterior",
"P4" = "right posterior",
"O2" = "right posterior",
"Fz" = "midline anterior",
"FC1" = "midline anterior",
"FC2" = "midline anterior",
"Cz" = "midline medial",
"CP1" = "midline medial",
"CP2" = "midline medial",
"Pz" = "midline posterior",
"Oz" = "midline posterior"
)
# Add Region column based on electrode_to_region mapping
Session2_combined_data <- Session2_combined_data %>%
mutate(Region = electrode_to_region[Electrode])
# Melt the combined data frame to convert it from wide to long format
Session2_melted_data_dirty <- melt(Session2_combined_data, id.vars = c('Participant', 'Electrode', 'Grammaticality', 'Region'), variable.name = 'Time', value.name = 'Activation')
# Convert the 'Time' column to numeric
Session2_melted_data_dirty$Time <- as.numeric(as.character(Session2_melted_data_dirty$Time))
# Add the Session column
Session2_melted_data_dirty$Session <- 'Session 2'
# View the resulting melted data
View(Session2_melted_data_dirty)
# Removing rows where any column has NA or NaN values
Session2_melted_data <- Session2_melted_data_dirty %>%
filter(complete.cases(.))  # Removes rows with NA values in any column
# Alternatively, if you want to remove rows with NaN values specifically
Session2_melted_data <- Session2_melted_data_dirty %>%
filter(!is.nan(Activation)) %>%
filter(complete.cases(.))  # Ensure no NA values are left
# View the cleaned data
View(Session2_melted_data)
# making sure that no Nas or NaNs have been introduced by coercion
rows_with_any_na_nan <- Session2_melted_data %>%
filter(if_any(everything(), ~ is.na(.) | is.nan(.)))
print(rows_with_any_na_nan)
Session2_melted_data$Time <- as.factor(Session2_melted_data$Time)
Session2_melted_data$Region <- as.factor(Session2_melted_data$Region)
Session2_melted_data$Grammaticality <- as.factor(Session2_melted_data$Grammaticality)
Session2_melted_data$Participant <- as.factor(Session2_melted_data$Participant)
# Subset the data frame for the N200 time window (200-500 ms)
S2_N200 <- Session2_melted_data [Session2_melted_data$Time %in% seq(200, 500, 2),]
View(S2_N200)
